!["Logo"](Logo.png)
# Инструкция по работе с Git
## 1. Проверка наличия установленного Git.
В терминале выполнить команду `git version.`
Если Git установлен, появится сообщение с информацией о версии файла. Иначе, будет сообщение об ошибке.

## 2. Установка Git
Существует два способа установки Git на компьютер:

1. Загружаем последнюю версию Git c сайта https://git-scm.com/downloads
Устанавливаем с настройками по умолчанию.

2. Набрать в терминале компьютера команду
```
brew install git
```


## 3. Настройка Git
При первом использовании Git необходимо представиться. Для этого необходимо ввести в терминале две команды: 
```
git config --global user.name "Ваше имя".
git config --global user.email "почта@exemple.com".
```
## 4. Инициализация репозитория
Получить репозиторий можно двумя способами. 
* В терминале переходим к папке, в которой хотим создать репозиторий и выполняем команду `git init`
В исходной папке появится скрытая папка *.git, содержащая все необходимые файлы репозитория - структуру Git репозитория.
* Загрузить репозиторий с помощью команды 
```
clone <адрес репозитория>.
```
Таким образом, Git создает копию репозитория, который находится по ссылке. Можно указать название новой папки, в которую Git скопирует репозиторий. Если его не указать, папка будет называться так же, как и сам репозиторий.

## 5. Проверка изменений в репозитории
Чтобы проверить информацию об индексированных и неиндексированных файлах в репозитории, используется команда 
```
git status
```
 Индексированные файлы будут отображены зеленым цветом, неиндексированные - красным.

## 6. Индексация файла
Для того, чтобы git начал отслеживать историю изменений файла, этот файл необходимо индексировать в репозитории. Это действие выполняется с помощью команды 
```
git add <имя файла с расширением>
```

## 7. Сохранение изменений в файле
Для того, чтобы сохранить изменения в файле, необходимо использовать команду 
```
git commit -m "описание действий в данном коммите"
```

 Данная команда обязательно используется с "флагом" `-m` для того, чтобы можно было дать название сохраняемым изменениям. Это обязательное условие. Название изменений должно отражать их суть быть понятным всем участникам процесса.

При работе с одиночным файлом, для того, чтобы сэкономить время на индексацию версии, можно использовать комбинированый флаг `-am`. В этом случае, команда будет выглядеть следующим образом:
```
git commit -am "описание действий в данном коммите"
```
 Если по какой-то причине необходимо изменить описание действий `последнего` коммита, то необходимо использовать флаг `--amend`. Команда целиков выглядит следующим образом:
 ```
git commit --amend -m "описание дейтвий в данном коммите"
 ```

 ## 8. Просмотр истории изменений файла
 Чтобы просмотреть историю изменений файла необходимо использовать команду
 ```
git log
 ```
Результатом будет список коммитов (сохранений) с хэш-кодами, данными автора изменений (имя+почта), датой и времинем этих изменений.
Последний коммит (сохранение) по умолчанию будет первым в списке.
Пример использования команды
```
commit b9d387d7364164a34918f485014f8d2c05400d0f (HEAD -> master)
Author: Denis Vylkov <dvylckov@gmail.com>
Date:   Mon Apr 18 18:21:56 2022 +0300
Создание раздела 8 - Просмотр истории изменений файла
```

Чтобы посмотреть историю изменений файла в упрощенном виде (без информации о дате, времени и авторе изменений), необходимо добавить к команде `git log` флаг `--oneline`.
Команда целиком будет выглядеть следующим образом:
```
git log --oneline
```
Результат будtт выглядеть следующим образом:

```
bdecc43 (HEAD -> Chapter8Changes, master) Start work with branch
ebafcea Слили ветки и решмл конфликт с веткой lists
6064633 Дрбавил информацию в раздел Списки
2f37490 (images) Добавил инструкцию по работе с изобрадениями
bafd4f5 Добавил альтернативные методы выделения текста
24a0299 (lists) Добавил нумерованные и ненумерованные списки
```

Для того, чтобы выйти из данного режима, необходимо использовать клавишу **"Q"**.

## 9. Перемещение между сохранениями файла
Для того, чтобы перейти к необходимому сохраненному изменению в файле, необходимо использовать команду
```
git checkout <хеш-код каммита>
```
Пример использования программы `git checkout`
```
git checkout 73c8d8e
```
Эта команда используется только для **просмотра**!
Чтобы продолжить работу над файлом необходимо вернуться вверх ветки, при помощи команды
```
git checkout master
```
## 10. Игнорирование файлов
Для того, чтобы избежать необходимости постоянно индексировать какие-либо файлы в репозитории (напрмер, изображения), можно создать специальный файл `".gitignore"`, в теле которого можно указать все необходимые файлы с их расширением.
Например:
```
1. Logo.png
2. Shpora.png
```
Для того, чтобы унифицировать все возможные фалы с определенным расширением, и не вводить каждый из них по отдельности, нужно единожды обозначить все эти файлы следующим образом:
```
1. *.png
2. *.jpg
```

## 11. Работа с ветками
Для организации эффективной работы команды разработчиков, используется такой прием, как `ветвление`. Чтобы работа над проектом была структурированной, легко контролируемой, защищенной от ошибок и интуитивно понятной для всех членов команды, входящих в проект на разных этапах, все участники процесса создают для своего участка работы соответствующую `ветку`.

**Создание новой ветки** происходит с помощью команды: 
```
git branch <название ветки>
```

Для **удаления ветки** используется команда:
```
git branch -d <название ветки>
```

Для **переключения между ветками** используется команда:
````
git checkout <название ветки>
````
Для **одновренного создания новой ветки и перехода в нее**, используется команда:
```
git checkout -b <название ветки>
```
Для **слияние веток** используется команда:
```
git merge <название ветки>
```
При слиянии веток могут возникать конфликты. Это происходит тогда, когда информация в коренной ветке не совпадает с информацией в новой ветке. В таких случиях Git подсвечивает конфликтующие строки и предлагает несколько варинтов действий. 

![Conflict](Conflict.png)

Можно применить автоматическую команду по одному из типов слияния или произвести редактирование вручную.

`ВАЖНО`
```
Всегда корреной ветвью является та, из готорой запускается команда merge. Именно в нее, а не из нее будет добавляться информация второй ветви.
```
## 12. Удаленные ("внешние") репозитории

### Определение
Удаленный (иногда говорят "внешний") репозиторий – это версии проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети.
```
Удаленный репозиторий – полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель HEAD, своя история коммитов и так далее.
```

Если мы подключим удаленный репозиторий к своему локальному, то у нас появятся копии всех ссылочных объектов удаленного репозитория. То есть, например, у удаленного репозитория есть ветка `main`, а у нас будет копия этой ветки – `origin/main`. Все такие ссылочные объекты (указатели, ветки и теги) удаленного репозитория хранятся почти там же, где и у локального – в директории:
```
.git/refs/remotes/<имя_удаленного_репозитория>.
```

### Начало работы с удаленным репозиторием

Прежде, чем начать работать с удаленным репозиторием, необходимо на нем зарегистрироваться, либо получить права доступа. 

Наиболее пропулярным бесплатным сервисом является `GitHub`.
После регистрации на сервисе, можно приступать к работе.

Система `Git` будет подсказывать необходимые действия при первом подключении и дальнейших действиях.

### Команда **Git Clone**
Для того, чтобы клонировать удаленный репозиторий к себе на компьютер, необходимо использовать команду `clone`. Операция клонирования создаёт на локальном компьютере точную копию удаленного репозитория. Вся команда выглядит следующим образом:
```
git clone <ссылка на удаленный репозиторий>
```

Для того, чтобы получить ссылку на удаленный репозиторий, необходимо нажать на зеленую кнопку `Code` на главной странице репозитория на `GitHub`.

### Команда **Git Fetch**
Для того, чтобы получить изменения из удаленного репозитория, в Git предусмотрена команда `git fetch`.

Выглядит следующим образом:
```
git fetch <имя удаленного репозитория>
```

`Важно` -  команда не обновляет рабочую копию в соответствии с удаленным репозиторием. Она обновляет только ссылочные объекты (указатели, ветки и теги) и скачивает все необходимые файлы в директорию `.git/objects.`

### Команда **Git Pull**

Команда `pull` является составной командой. Она представляет собой связку 
`git fetch & git merge`. 

Команда получает изменения из переданного удаленного репозитория и обновляет рабочую копию в соответствии с удаленным репозиторием. По умолчанию слияние удаленной ветки с локальной происходит именно в fast-forward режиме, так что включать его специально не требуется.

Команда `git pull` выглядит следующим образом
```
git pull <ссылка на удаленный репозиторий>
```

### Команда **Git Push**
Команда загружает изменения в удаленный репозиторий. Если слияние изменений в удаленном репозитории нельзя сделать в режиме fast-forward, и при этом не был передан ключ force, выполнение закончится с ошибкой.
Команда выглядит следующим образом*
```
git push <имя удаленного репозитория> <имя ветки>
```

Если изменения в нашей ветки можно слить с удаленной веткой в режиме fast-forward, то есть на удаленной ветке нет коммитов сделанных после наших, то все пройдет нормально.

Если на удаленной ветке есть коммиты, которые были сделаны позже наших, то есть слияние в режиме fast-forward выполнить невозможно, то команда завершится с ошибкой. Ведь в этом случае есть угроза перезаписи истории удаленного репозитория и удаления всех коммитов, созданных позже наших.

Но если передать флаг `--force`, то все коммиты, которых нет в вашем локальном репозитории, будут удалены. То есть удаленный репозиторий станет точной копией вашего локального. Есть более щадящая версия этого флага – `--force-with-lease`. Он будет делать в точности то же самое, но если вдруг нужно будет удалить коммит, созданный не вами, выполнение немедленно прекратится и вернется ошибка. Таким образом, вы не попадете в ситуацию, когда вы случайно удалили чужой коммит.

### Создание **Fork'ка** репозитория и **Pull-реквесты**.

`Форк` (от англ. fork – вилка) – точная копия репозитория, но в вашем аккаунте. Форки нужны, чтобы вносить свои изменения в проект, к репозиторию которого у вас нет прямого доступа.

`Пулл-реквест` (от англ. pull-request – запрос pull) – функция GitHub, позволяющая попросить владельца репозитория, от которого мы сделали форк, загрузить наши изменения обратно в свой репозиторий.
Если коротко, форки и пулл-реквесты нужны, чтобы любой пользователь мог внести свой вклад в любой открытый проект, репозиторий которого есть на GitHub. Кроме того, перед тем как влить свои изменения в основной репозиторий, ответственные обязательно проверят ваш код на наличие ошибок и уязвимостей. Таким образом, даже если ваши изменения не примут, вы получите первоклассный code-review с указанием всех неточностей.

Последовательность создания `Пулл-реквеста:`

1. Зайти на страницу репозитория проекта. Нажать на кнопку `Fork`. После этого Git создаст точную копию этого репозитория в вашем аккаунте.

2. Клонировать репозиторий к себе на компьютер командой `git clone`. Создаем файл `README.md` с описанием проекта, чтобы другим пользователям было понятно, в чем отличие этой реализации от остальных.

3. Делаем коммит и выполняем `git push`, чтобы загрузить свои изменения в удаленный репозиторий.

4. Теперь GitHub подсказывает, что наша ветка опережает ветку исходного репозитория на один коммит и предлагает сделать пулл-реквест.

5. Нажать на кнопку `Compare` на подсказке GitHub, либо перейти на вкладку `Pull Requests` и нажать `New pull request`.
 
6. Откроется страница создания пулл-реквеста.
Здесь можно просмотреть внесенные изменения и выбрать две ветки: одну в исходном репозитории, на нее будут залиты ваши изменения, вторую – в нашем репозитории, с нее будут скачаны изменения. Как только выбрана ветка, нажать кнопку `Create pull request`.

7. Попадаем на страницу описания наших изменений.
Здесь необходимо описать, что за изменения внесены и почему они были необходимы. Сообщение отражает суть и необходимость внесенных изменений. Как только закончено описание, нажимается кнопка `Create pull request`.

8. Теперь попадаем на страницу уже созданного пулл-реквеста в изначальном репозитории. 

```
 После того, как владелец репозитория просмотрит предложенные изменения и убедится, что они не имеют вредоносный характер, он сможет принять пулл-реквест. Тогда все изменения, добавленные в этот пулл-реквест, будут залиты в исходный репозиторий.
```
#
# Шпаргалка